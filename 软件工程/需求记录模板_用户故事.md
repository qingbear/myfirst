## 用户故事（User Stories）

在敏捷开发中常用，是一种简洁的方式来表达需求。通常以“作为[某角色]，我希望[某功能]，以便[某好处]”的格式写成。

这个看似很简单，但也有不少坑点。我们最终的目的都是要转换成软件制品和代码。粒度太大、太小、太抽象、太具体都不好。

用户故事（User Stories）是敏捷开发中的一个概念，它从用户的角度对软件功能进行描述，强调价值和需求。好的用户故事通常遵循一定的结构，以保证清晰、简洁地传达用户的需求。以下是编写用户故事的几个要点：



1. **角色**: 确定谁是故事的主角，即谁将会使用这个功能。这有助于团队理解是为了满足哪类用户的需求。
2. **需求**: 描述用户希望通过这个功能实现的目标或需求。这部分应当简洁而具体。
3. **价值**: 阐明实现这个需求将给用户带来的价值或好处。这有助于团队理解功能的优先级和价值所在。



一个常见的用户故事模板是：

```tiki wiki
作为一个[角色]，
我可以[需求/功能]，
以便[价值/好处]。
```

例如：

```tiki wiki
作为一个在线购物网站的顾客，
我可以对我购买过的商品进行评分和评论，
以便帮助其他顾客做出购买决策。
```

此外，在编写用户故事时，还要注意以下几点：

- **具体而明确**: 用户故事应具体到足够让团队理解需求，**但又不过分具体到限制了解决方案的设计空间**。
- **可测试**: 故事应该有明确的验收标准，使得团队可以验证功能是否满足用户的故事。
- **用户中心**: 故事应该始终聚焦于用户的需求和价值，而非技术实现。

请记住，用户故事是促进团队沟通的工具，而不是规则或合同。它们应当足够灵活以适应项目的变化，并且要持续与用户或利益相关方进行交流以细化需求



#### 经验1：如何描述，不过分具体，也不过分抽象？

1. **关注目标而非实现**: 描述用户的目标和所期望达到的结果，而不是具体的实现方法。这样团队可以有创意地设计解决方案。

   错误的描述：
   “用户可以通过点击首页上的红色按钮来发送消息。”

   改进后的描述：
   “用户可以轻松地从首页发送消息。”

2. **利用条件语句**: 使用“可以”或“能够”等词汇，表明功能是可能的解决方案之一，为团队提供设计思路，而不是硬性要求。

3. **为需求设定边界而非细节**: 指明需求的范围和限制条件，但不给出具体实现的细节。这样能够提供清晰的需求说明，同时留下设计的空间。

   错误的描述：
   “加载图片时，用一个蓝色的进度条显示加载进度。”

   改进后的描述：
   “提供加载图片时的进度反馈，以增强用户体验。”

4. **用户故事细分**: 如果一个用户故事过于复杂或广泛，应将其细分为更小、更具体的部分，以便团队更好地理解并评估。

5. **包含验收标准**: 验收标准应具体到足以评估功能是否符合用户的需求，但又不过于具体到限定技术实现的细节。

   示例验收标准：
   “当用户完成商品购买后，系统应发出确认邮件，通知用户购买成功。”

通过这样的描述，用户故事保持了足够的明确性，团队成员可以理解需求的真正目的，同时又保留了足够的空间来创造性地解决问题。这样还能够适应未来需求的变化，使得团队能够在不断探索和改进的过程中找到最佳的解决方案。



#### 经验2：故事的粒度怎么控制？

故事的粒度，即用户故事的大小或范围，是重要的，因为它会影响团队的计划和实施。控制故事粒度的关键在于使故事足够小，以便可以在一个迭代（通常是一到四周的时间框架）内完成，但又足够大，以至于故事有明确的价值。以下是一些控制用户故事粒度的方法：

1. **INVEST 原则**: 用户故事应遵循 INVEST 原则：
   - 独立（Independent）：故事独立于其他故事。
   - 可协商（Negotiable）：故事是一种协商的产品，而不是详尽无遗的合同。
   - 可验证（Valuable）：故事对于用户或顾客是有价值的。
   - 可估算（Estimable）：团队可以估计完成故事的劳动量。
   - 小巧（Small）：故事应该足够小，可以在一个迭代中完成。
   - 可测试（Testable）：故事有明确的验收标准。
2. **规模标准化**: 将用户故事的规模标准化（如使用故事点），帮助团队更好地评估和比较故事的大小。
3. **故事分解**: 如果一个故事太大，寻找逻辑方式将其分解为更小的部分，每个部分都能独立交付价值。

关于用户故事完成的时间，通常需要基于团队的速度（velocity）来决定。这个速度是指团队在一个迭代内通常能完成的故事点数量。对于结对编程来说，合理的时间可以基于以下考虑：

1. **故事点**: 依据之前完成类似任务的经验，估算完成用户故事所需要的故事点。
2. **团队速度**: 考虑团队过去几个迭代的平均速度，以及当前迭代的可用时间。
3. **复杂性**: 考虑技术实现的复杂性，以及可能出现的技术障碍或学习曲线。
4. **依赖性**: 如果用户故事之间或与其他系统组件之间有依赖，可能会影响完成时间。

一般来说，一个小到中等大小的用户故事应该在一个迭代内可以由一对开发人员完成。对于一个两周的迭代，**一个理想的用户故事可能在几个小时到几天之间完成（2~3天）**，具体取决于上述因素。重要的是不断回顾和调整，以确保故事粒度符合团队的工作流。

#### 经验3：对于一个已经在迭代演进的系统，故事的模板有时候会显得过于“刻意”，可以灵活自定义模板

上诉故事的模板，适合于用户直接提出的诉求，而对于内部或者是研发人员开发过程发现的改进点，优化点，用上诉的模板会显得“刻意”、“别扭”。有时候，个人倾向于更加灵活的模板，比如：描述+DOD+责任人+干系人 。

![image](https://github.com/qingbear/myfirst/assets/17232842/9466c6c4-a90a-4117-8bb8-670c6e836342)



